<!doctype html>

<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Position</title>
        <link href="/support/web/supplemental.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <div class="skip-link">
            <a href="#main">Skip to content</a>
        </div>
        <header>
            This tutorial is part of the <a href="/labs">skills labs</a> within
            <a href="/">Interactive Data Science and Visualization</a>.
        </header>
        <main id="main">
            <h1>Position</h1>

            In our
            <a href="/labs/features_style.html">previous tutorial</a>
            which explored style, giving us examples of another preattentive
            feature. In this tutorial, we continue Skills Lab 3 by looking at
            our next preattentive feature: position.

            <details>
                <summary>Contents</summary>
                <ul>
                    <li><a href="#translate">Translate</a></li>
                    <li><a href="#state">State</a></li>
                    <li><a href="#style-stack">Style Stack</a></li>
                    <li><a href="#next">Next</a></li>
                </ul>
            </details>

            <section id="translate">
                <h2>Translate</h2>
                So far, we've changed the position of our figures by
                manipulating the parameters of the draw commands. However, we
                can also position glyphs by changing the coordinate space
                itself. Whereas typically the (0, 0) position is in the upper
                left part of the screen, we can change it. Let's look at an
                example:

                <pre>
import sketchingpy

sketch = sketchingpy.Sketch2D(500, 500)

sketch.set_ellipse_mode("radius")

sketch.draw_ellipse(0, 0, 5, 5)

sketch.translate(100, 100)

sketch.draw_ellipse(0, 0, 10, 10)

sketch.translate(50, 50)
sketch.translate(50, 50)

sketch.draw_ellipse(0, 0, 15, 15)

sketch.translate(100, 100)

sketch.draw_ellipse(0, 0, 20, 20)

sketch.show()
</pre
                >

                We keep drawing the ellipse at the same position but, as the
                coordinate system changes over time, the actual location on the
                screen keeps moving. Try changing some of the parameters to see
                how it influences the drawing! Also, try adding a translate
                before the first draw. How does that change the rest of the
                drawing?
            </section>

            <section id="state">
                <h2>State</h2>
                Translate is changing the "transformation matrix" which modifies
                the default coordinate space. We can save and load previous
                copies of the coordinate space through push and pop.

                <pre>
import sketchingpy

sketch = sketchingpy.Sketch2D(500, 500)

sketch.set_ellipse_mode("radius")

sketch.translate(200, 200)

sketch.draw_ellipse(0, 0, 5, 5)

sketch.translate(100, 100)
sketch.draw_ellipse(0, 0, 10, 10)

sketch.push_transform()
sketch.translate(50, 0)
sketch.translate(50, 0)
sketch.draw_ellipse(0, 0, 15, 15)
sketch.pop_transform()

sketch.translate(50, 50)
sketch.draw_ellipse(0, 0, 20, 20)

sketch.show()</pre
                >

                Try changing the location of the push and pop commands. What's
                going on? You might recognize this as language for a "stack" and
                that's indeed what's happening. In other words, you can imagine
                that each transformation matrix is on a piece of paper and we
                can change what is on that piece of paper through calls to
                transform. This piece of paper is called the state. The computer
                looks at the piece of paper to figure out how to change the
                coordinate system. Push means that we make a copy of the top
                piece of paper and put it on top, keeping the original below the
                copy. Pop means we remove the top piece of paper.
            </section>

            <section id="style-stack">
                <h2>Style Stack</h2>
                There's actually two states: one for the transformation matrix
                and another for style.

                <pre>
import sketchingpy

sketch = sketchingpy.Sketch2D(500, 500)

sketch.clear('#505050')
sketch.set_stroke_weight(3)

sketch.set_fill('#B2DF8A50')
sketch.set_stroke('#F0F0F0')
sketch.draw_ellipse(150, 250, 20, 20)

sketch.push_style()
sketch.clear_fill()
sketch.draw_ellipse(250, 250, 20, 20)
sketch.pop_style()

sketch.draw_ellipse(350, 250, 20, 20)

sketch.show()</pre
                >

                What happens if these statements are re-arranged?
            </section>

            <section id="next">
                <h2>Next</h2>
                To finish Skills Lab 3, continue on to
                <a href="/labs/features_orientation.html">Tutorial 7</a>
                to learn about orientation.

                <details>
                    <summary>Citations</summary>
                    <ul>
                        <li>
                            A. Pottinger, "Sketchingpy." Sketchingpy Project,
                            2024. [Online]. Available:
                            <a href="https://sketchingpy.org/" target="_blank"
                                >https://sketchingpy.org/</a
                            >
                        </li>
                    </ul>
                </details>
            </section>
        </main>
        <footer>
            Materials on this page are available under
            <a href="https://opensource.org/license/bsd-3-clause"
                >BSD 3-Clause License</a
            >
            for code and
            <a href="https://creativecommons.org/licenses/by/4.0/"
                >CC-BY License</a
            >
            for all other material. Thank you to
            <a href="https://public-sans.digital.gov">PublicSans</a> under the
            Open Font License. No cookies are used. Analytics limited to
            standard server logging which may collect IP addresses. These logs
            are deleted or anonymized within 30 days.
        </footer>
    </body>
</html>
